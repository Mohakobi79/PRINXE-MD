// PRINCE PROPERTY DON'T TOUCH IT OTHERWISE YOU WILL BE FAMOUS IN THE DEPLOYERS AS A CODE THEIF AND JUNIOR DEVELOPER






const _0x5211f7=_0x32a8;(function(_0x18873c,_0x2ba726){const _0xeff285=_0x32a8;const _0x4d2610=_0x18873c();while(!![]){try{const _0x2eae36=-parseInt(_0xeff285(0x1e8))/(-0x2*-0x83d+-0x1d7f+-0x2*-0x683)+-parseInt(_0xeff285(0x22e))/(0xa97*-0x1+-0x2e3*0x4+0x1625)+parseInt(_0xeff285(0x223))/(-0xb61*0x2+-0xd95*-0x1+0x930)*(-parseInt(_0xeff285(0x1ee))/(0x21*0x81+-0x1*0x13eb+0x3*0x11a))+parseInt(_0xeff285(0x1ef))/(-0x14c4+-0xb66*-0x1+0x321*0x3)+parseInt(_0xeff285(0x206))/(0x1b*0x31+-0x1c7c+-0x1757*-0x1)+-parseInt(_0xeff285(0x23c))/(0x4ee+-0x2f3+-0x1f4)+parseInt(_0xeff285(0x1e4))/(0x1a6+0x9a*-0x8+0x332);if(_0x2eae36===_0x2ba726){break;}else{_0x4d2610['push'](_0x4d2610['shift']());}}catch(_0x261f9e){_0x4d2610['push'](_0x4d2610['shift']());}}}(_0x9898,-0xee33c+-0x2405*-0x5c+0xd0b8d));function _0x9898(){const _0x3c130d=['Data\x20loaded\x20from\x20PostgreSQL.','SuTNa','XDYsw','PostgreSQL\x20connection\x20failed.\x20Retries\x20left:\x20','2281682wCEjUG','OJPGp','_data','erIgO','query','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20public.data\x20(key,\x20value)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20($1,\x20$2::jsonb)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ON\x20CONFLICT\x20(key)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20DO\x20UPDATE\x20SET\x20value\x20=\x20$2::jsonb,\x20created_at\x20=\x20NOW();\x0a\x20\x20\x20\x20\x20\x20\x20\x20','key','SELECT\x20to_regclass(\x27public.data\x27);','mWxMy','READ','LSqnL','log','end','aXeLm','3870643dnAHqd','Error\x20writing\x20to\x20PostgreSQL:','PostgreSQL\x20connectedâœ…','Failed\x20to\x20initialize\x20PostgreSQL:','Error\x20reading\x20data\x20from\x20PostgreSQL:','options','Table\x20does\x20not\x20exist','dfRFM','require','close','reduce','26863712eeEZRU','read','eVIaK','zIdrn','998104MtlScu','data','object','UYWbK','pool','update','472Oxsqul','174930FmgJjS','SELECT\x20key,\x20value\x20FROM\x20public.data','rows','to_regclass','Key\x20is\x20required\x20to\x20update\x20data.','naZNs','RuTSY','error','lyuBb','YFeHV','VieIf','Data\x20saved\x20to\x20PostgreSQL\x20for\x20keys:\x20','DjJey','mNEyG','DPInw','rjauE','gNLej','\x0a\x20\x20\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20public.data\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20key\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value\x20JSONB\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20created_at\x20TIMESTAMP\x20DEFAULT\x20NOW()\x0a\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20','GROrr','connectWithRetry','3|0|4|1|2','message','nlaKE','1823658sSIVWa','PostgreSQL\x20connection\x20failed\x20after\x20multiple\x20attempts.','rejectUnauthorized','Uwhzv','WDDMz','mcnBW','oBUyH','txuqR','value','split','qHkFk','izwZg','KrWOJ','Invalid\x20data.\x20Must\x20be\x20a\x20non-empty\x20object.','url','Vbflf','CDzov','Error\x20closing\x20PostgreSQL\x20connection\x20pool:','Table\x20\x22public.data\x22\x20does\x20not\x20exist!','join','pXMYb','tdrlM','PryzS','heksK','kBmkR','Table\x20\x22public.data\x22\x20exists.','push','poOcd','dVvCm','7053YfyUOK','BtZDR','IibLM','Qnkiw','write','init','stringify'];_0x9898=function(){return _0x3c130d;};return _0x9898();}import _0x4d1add from'pg';const {Pool}=_0x4d1add;function _0x32a8(_0x397743,_0x5e9d8a){const _0x497add=_0x9898();_0x32a8=function(_0x2726da,_0x49797f){_0x2726da=_0x2726da-(-0x34e+-0x8*-0x39a+-0x17a1);let _0x287de8=_0x497add[_0x2726da];return _0x287de8;};return _0x32a8(_0x397743,_0x5e9d8a);}export class PostgresDB{constructor(_0xd33f4e,_0x47976d={}){const _0x32a9eb=_0x32a8;const _0x4aa2d6={};_0x4aa2d6['CDzov']=_0x32a9eb(0x203);_0x4aa2d6[_0x32a9eb(0x231)]=_0x32a9eb(0x1e1);const _0x32d6e3=_0x4aa2d6;const _0x1857a1=_0x32d6e3[_0x32a9eb(0x216)][_0x32a9eb(0x20f)]('|');let _0x527fe1=0x409*0x1+0x1*-0x5e4+0x1db;while(!![]){switch(_0x1857a1[_0x527fe1++]){case'0':this['options']=_0x47976d;continue;case'1':this[_0x32a9eb(0x1e9)]=this[_0x32a9eb(0x230)]={};continue;case'2':this[_0x32a9eb(0x237)]=null;continue;case'3':this[_0x32a9eb(0x214)]=_0xd33f4e;continue;case'4':const _0x5c55f0={};_0x5c55f0[_0x32a9eb(0x208)]=![];_0x5c55f0['sslmode']=_0x32d6e3['erIgO'];this[_0x32a9eb(0x1ec)]=new Pool({'connectionString':this[_0x32a9eb(0x214)],'ssl':_0x5c55f0,...this[_0x32a9eb(0x241)]});continue;}break;}}async[_0x5211f7(0x228)](){const _0x477303=_0x5211f7;const _0xcf7b27={};_0xcf7b27[_0x477303(0x23b)]=function(_0x143f01,_0x33f345){return _0x143f01!==_0x33f345;};_0xcf7b27[_0x477303(0x215)]=_0x477303(0x20c);_0xcf7b27[_0x477303(0x1fc)]='tKvdd';_0xcf7b27['nyfRv']='Initializing\x20PostgreSQL...';_0xcf7b27[_0x477303(0x22c)]='PostgreSQL\x20table\x20ensured.';_0xcf7b27['eVIaK']=_0x477303(0x235);_0xcf7b27[_0x477303(0x1fe)]=function(_0x4c5c40,_0x44bfc5){return _0x4c5c40===_0x44bfc5;};_0xcf7b27['kBmkR']=_0x477303(0x21f);_0xcf7b27[_0x477303(0x1f7)]=_0x477303(0x23f);const _0x5a3efb=_0xcf7b27;try{if(_0x5a3efb['aXeLm'](_0x5a3efb['Vbflf'],_0x5a3efb[_0x477303(0x1fc)])){console[_0x477303(0x239)](_0x5a3efb['nyfRv']);await this['connectWithRetry']();const _0x1f7711='\x0a\x20\x20\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20public.data\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20key\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value\x20JSONB\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20created_at\x20TIMESTAMP\x20DEFAULT\x20NOW()\x0a\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20';await this[_0x477303(0x1ec)][_0x477303(0x232)](_0x1f7711);console[_0x477303(0x239)](_0x5a3efb['XDYsw']);const _0xd0e426=_0x5a3efb[_0x477303(0x1e6)];const _0x31eec2=await this['pool'][_0x477303(0x232)](_0xd0e426);if(_0x5a3efb[_0x477303(0x1fe)](_0x31eec2['rows'][0xfa3+-0x7c*0xb+-0xa4f][_0x477303(0x1f2)],null)){console[_0x477303(0x1f6)](_0x477303(0x218));throw new Error(_0x477303(0x242));}console[_0x477303(0x239)](_0x5a3efb[_0x477303(0x21e)]);await this['read']();}else{_0x3c7ff5(this);_0x11f254(this[_0x477303(0x1e9)]||this[_0x477303(0x1e5)]());}}catch(_0x17f010){console[_0x477303(0x1f6)](_0x5a3efb[_0x477303(0x1f7)],_0x17f010[_0x477303(0x204)]);throw _0x17f010;}}async[_0x5211f7(0x202)](){const _0x557158=_0x5211f7;const _0x46debb={'VieIf':_0x557158(0x1f3),'Hopvu':function(_0x5b6ff7,_0x3a081b){return _0x5b6ff7(_0x3a081b);},'Uwhzv':_0x557158(0x213),'BtZDR':function(_0x312639,_0x547d91){return _0x312639>_0x547d91;},'Qnkiw':function(_0xcf271b,_0x20a86f){return _0xcf271b===_0x20a86f;},'DjJey':_0x557158(0x20a),'KrWOJ':function(_0x2a50f7,_0x530ce3){return _0x2a50f7===_0x530ce3;},'RuTSY':_0x557158(0x20b),'kVESi':function(_0x2d08a2,_0x2677d5){return _0x2d08a2-_0x2677d5;},'tGRyH':function(_0x13ccd9,_0x265678){return _0x13ccd9===_0x265678;},'GROrr':function(_0x371d19,_0x2b7669){return _0x371d19!==_0x2b7669;},'qHkFk':'TYdbZ','YFeHV':_0x557158(0x207)};let _0x3e62bb=0x22b3+-0x5*-0x382+0x687*-0x8;const _0x2cd7ce=-0x22d2+0x8a0+0x25ea;while(_0x46debb[_0x557158(0x224)](_0x3e62bb,-0x1*-0x605+-0x2312+0x1d0d)){try{if(_0x46debb[_0x557158(0x226)](_0x557158(0x20a),_0x46debb[_0x557158(0x1fb)])){await this[_0x557158(0x1ec)]['connect']();console[_0x557158(0x239)](_0x557158(0x23e));break;}else{throw new _0x48b107(_0x46debb[_0x557158(0x1f9)]);}}catch(_0x57b148){if(_0x46debb[_0x557158(0x212)](_0x46debb[_0x557158(0x1f5)],'ynGMl')){return new _0x43610b(_0x429eac=>_0x3457d8(async()=>{const _0x2b1b42=_0x557158;if(!this[_0x2b1b42(0x237)]){_0x2c57eb(this);_0x46debb['Hopvu'](_0x429eac,this[_0x2b1b42(0x1e9)]||this['read']());}},0x12f8+-0x1e9a+0xf8a));}else{console[_0x557158(0x1f6)](_0x557158(0x22d)+_0x46debb['kVESi'](_0x3e62bb,-0x23*0x5b+0x1*0x2253+0x74b*-0x3),_0x57b148[_0x557158(0x204)]);_0x3e62bb-=0x4f*0x4+-0xff1*-0x1+-0x112c;if(_0x46debb['tGRyH'](_0x3e62bb,-0x1957+0x3*0x2e3+-0x1ab*-0xa)){if(_0x46debb[_0x557158(0x201)](_0x46debb[_0x557158(0x210)],_0x46debb[_0x557158(0x210)])){throw new _0x5938d4(_0x46debb[_0x557158(0x209)]);}else{throw new Error(_0x46debb[_0x557158(0x1f8)]);}}await new Promise(_0x3bc234=>setTimeout(_0x3bc234,_0x2cd7ce));}}}}async['read'](){const _0x392b72=_0x5211f7;const _0x1d3831={'PryzS':'Table\x20\x22public.data\x22\x20does\x20not\x20exist!','aJRtS':_0x392b72(0x242),'poOcd':function(_0x180688,_0x3bbc74){return _0x180688(_0x3bbc74);},'zIdrn':function(_0x5305ca,_0x36214c){return _0x5305ca(_0x36214c);},'tdrlM':_0x392b72(0x240),'UYWbK':function(_0x2bcae3,_0x525a77){return _0x2bcae3!==_0x525a77;},'izwZg':_0x392b72(0x1fd),'CkPNd':function(_0x19ee85,_0x3efbe6){return _0x19ee85(_0x3efbe6);},'heksK':'QKHKs','qaxUk':_0x392b72(0x1f0),'SuTNa':_0x392b72(0x22a),'mWxMy':_0x392b72(0x238)};if(this[_0x392b72(0x237)]){if(_0x392b72(0x1f4)===_0x1d3831[_0x392b72(0x21d)]){_0x33bce6[_0x392b72(0x1f6)](_0x1d3831[_0x392b72(0x21c)]);throw new _0x356fdd(_0x1d3831['aJRtS']);}else{return new Promise(_0xc639cc=>setInterval(async()=>{const _0x3ed0f7=_0x392b72;if(!this[_0x3ed0f7(0x237)]){_0x1d3831[_0x3ed0f7(0x221)](clearInterval,this);_0x1d3831[_0x3ed0f7(0x1e7)](_0xc639cc,this['data']||this[_0x3ed0f7(0x1e5)]());}},0x2d0+0x212e+-0x2016));}}this[_0x392b72(0x237)]=!![];try{const _0x24438f=await this[_0x392b72(0x1ec)][_0x392b72(0x232)](_0x1d3831['qaxUk']);this[_0x392b72(0x230)]=_0x24438f[_0x392b72(0x1f1)][_0x392b72(0x1e3)]((_0x3a1f01,_0xc8050a)=>{const _0x120713=_0x392b72;if(_0x1d3831[_0x120713(0x1eb)](_0x1d3831['izwZg'],_0x1d3831[_0x120713(0x211)])){_0x18a99c['error'](_0x1d3831[_0x120713(0x21b)],_0x1880cf[_0x120713(0x204)]);throw _0xa701a4;}else{_0x3a1f01[_0xc8050a[_0x120713(0x234)]]=_0xc8050a[_0x120713(0x20e)];return _0x3a1f01;}},{});this[_0x392b72(0x1e9)]={'users':{},'chats':{},'stats':{},'msgs':{},'sticker':{},'settings':{},...this[_0x392b72(0x230)]||{}};console[_0x392b72(0x239)](_0x1d3831[_0x392b72(0x22b)]);}catch(_0x4543fe){console[_0x392b72(0x1f6)](_0x392b72(0x240),_0x4543fe['message']);throw _0x4543fe;}finally{if(_0x1d3831['UYWbK'](_0x1d3831['mWxMy'],_0x1d3831[_0x392b72(0x236)])){if(!this[_0x392b72(0x237)]){_0x1d3831['CkPNd'](_0x11fde7,this);_0x1d3831['zIdrn'](_0x261e02,this['data']||this['read']());}}else{this[_0x392b72(0x237)]=null;}}return this['data'];}async[_0x5211f7(0x227)](_0x43a6d1){const _0x3fed0e=_0x5211f7;const _0x422fd8={};_0x422fd8[_0x3fed0e(0x205)]=_0x3fed0e(0x1f3);_0x422fd8[_0x3fed0e(0x21a)]=function(_0x35652a,_0x55e3ca){return _0x35652a!==_0x55e3ca;};_0x422fd8[_0x3fed0e(0x225)]=_0x3fed0e(0x1ea);_0x422fd8['OJPGp']=_0x3fed0e(0x20d);_0x422fd8[_0x3fed0e(0x222)]=_0x3fed0e(0x213);const _0xf4ffea=_0x422fd8;if(!_0x43a6d1||_0xf4ffea[_0x3fed0e(0x21a)](typeof _0x43a6d1,_0xf4ffea['IibLM'])){if(_0xf4ffea[_0x3fed0e(0x21a)](_0xf4ffea[_0x3fed0e(0x22f)],_0xf4ffea[_0x3fed0e(0x22f)])){if(!_0xfecea4){throw new _0x248958(_0xf4ffea[_0x3fed0e(0x205)]);}this[_0x3fed0e(0x1e9)][_0x25759f]=_0x5c1b8f;const _0x2e4e22={};_0x2e4e22[_0x3d5b95]=_0x47ba7f;return this['write'](_0x2e4e22);}else{throw new Error(_0xf4ffea[_0x3fed0e(0x222)]);}}try{const _0x5c7bf8=_0x3fed0e(0x200);await this[_0x3fed0e(0x1ec)]['query'](_0x5c7bf8);const _0x1682c0=[];for(const [_0x38603a,_0x2c4d70]of Object['entries'](_0x43a6d1)){const _0x112548=_0x3fed0e(0x233);await this[_0x3fed0e(0x1ec)][_0x3fed0e(0x232)](_0x112548,[_0x38603a,JSON[_0x3fed0e(0x229)](_0x2c4d70)]);_0x1682c0[_0x3fed0e(0x220)](_0x38603a);}console[_0x3fed0e(0x239)](_0x3fed0e(0x1fa)+_0x1682c0[_0x3fed0e(0x219)](',\x20'));this['data']={...this[_0x3fed0e(0x1e9)],..._0x43a6d1};return!![];}catch(_0x1be084){console['error'](_0x3fed0e(0x23d),_0x1be084[_0x3fed0e(0x204)]);console[_0x3fed0e(0x1f6)](_0x1be084['stack']);throw _0x1be084;}}async[_0x5211f7(0x1ed)](_0x493fc2,_0x32bb7a){const _0x1e5c11=_0x5211f7;const _0x1daf67={};_0x1daf67[_0x1e5c11(0x243)]=_0x1e5c11(0x1f3);const _0x24d982=_0x1daf67;if(!_0x493fc2){throw new Error(_0x24d982['dfRFM']);}this[_0x1e5c11(0x1e9)][_0x493fc2]=_0x32bb7a;const _0x53cb2e={};_0x53cb2e[_0x493fc2]=_0x32bb7a;return this[_0x1e5c11(0x227)](_0x53cb2e);}async[_0x5211f7(0x1e2)](){const _0x3d6c7f=_0x5211f7;const _0x226748={};_0x226748['gNLej']='PostgreSQL\x20connection\x20pool\x20closed.';const _0x5dfb16=_0x226748;try{await this['pool'][_0x3d6c7f(0x23a)]();console['log'](_0x5dfb16[_0x3d6c7f(0x1ff)]);}catch(_0x3e4f32){console[_0x3d6c7f(0x1f6)](_0x3d6c7f(0x217),_0x3e4f32[_0x3d6c7f(0x204)]);}}}
